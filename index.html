<!-- context.arc(positionX, positionY, radius, startAngle, endAngle, counterclockwise); -->

<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8">
    <title>ravensim14</title>
  </head>
  <body>

    <canvas></canvas>

    <script>
      var canvas = document.querySelector('canvas'); 

      var context = canvas.getContext('2d'); 
      document.body.style.margin = '0px';
      document.body.style.padding = '0px';

      canvas.style.display = 'block';

      var width = canvas.width = window.innerWidth; 
      var height = canvas.height = window.innerHeight; 

      // Circle
      // =============================================================
      var Circle = {
        angle: 0,
        positionX: width/2,
        positionY: height/2,
        radius: 10,
        create: function() {
          var object = Object.create(this);

          return object;
        },
        update: function() {
          var startAngle = 0;
          var endAngle = 360;

          context.beginPath();
          context.arc(this.positionX, this.positionY, this.radius, startAngle, endAngle, false);
          context.fill();
        },
        setPosition: function(positionX, positionY) {
          this.positionX = positionX;
          this.positionY = positionY;
        }
      };

      // Frame
      // =============================================================
      var Frame = {
        textPositionX: 5,
        textPositionY: 19,
        currentFrame: 0,
        font: '15px Comic Sans MS',
        textColor: '#000',
        create: function() {
          var object = Object.create(this);

          return object;
        },
        update: function() {
          this.text = `Current Frame: ${this.currentFrame}`;

          context.font = this.font;
          context.fillStyle = this.textColor;
          context.fillText(this.text, this.textPositionX, this.textPositionY);

          this.currentFrame += 1;
        }
      };

      var circle = Circle.create();
      var frame = Frame.create();

      var circle2 = Circle.create();

      circle2.setPosition(50, 50);
      circle2.outerPositionX = width / 2;
      circle2.outerPositionY = height / 2;
      circle2.outerRadius = 300;
      circle2.speed = 0.01;

      // render
      // =============================================================
      var render = function() {
        context.clearRect(0, 0, width, height);

        // render random lines
        for (var i=0; i<100; i++) { 
          context.strokeStyle = 'rgba(0, 0, 0, 0.4)';
          context.beginPath(); 
          context.moveTo(Math.random() * width, Math.random() * height); 
          context.lineTo(Math.random() * width, Math.random() * height); 
          context.stroke(); 
        } 

        // update object each frame
        circle.update();

        // update / render circle 2

        context.beginPath();
        context.arc(circle2.outerPositionX, circle2.outerPositionY, circle2.outerRadius, 0, 360);
        context.stroke();

        circle2.positionX = circle2.outerPositionX + Math.cos(circle2.angle) * circle2.outerRadius;
        circle2.positionY = circle2.outerPositionY + Math.sin(circle2.angle) * circle2.outerRadius;

        var text = `Current Angle: ${circle2.angle.toFixed(2)} radians (${(circle2.angle * 180 / Math.PI).toFixed(2)} degrees)`;
        var centerX = width / 2;
        var centerY = height / 2;

        context.fillText(text, centerX - 150, centerY - 30);

        var angleInDegrees = circle2.angle * 180 / Math.PI;

        text = `Current Angle: ${(angleInDegrees % 360).toFixed(2)} degrees ( deg % 360 )`;

        context.fillText(text, centerX - 150, centerY + 45);

        circle2.angle += circle2.speed;

        circle2.update();

        // draw line from circle to circle2
        context.beginPath();
        context.moveTo(circle.positionX, circle.positionY);
        context.lineTo(circle2.positionX, circle2.positionY);
        context.stroke();

        // update frame
        frame.update();
        requestAnimationFrame(render);
      };
      render();
    </script>
  </body>
</html>
